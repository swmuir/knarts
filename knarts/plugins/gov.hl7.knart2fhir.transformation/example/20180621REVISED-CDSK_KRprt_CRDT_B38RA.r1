<?xml version="1.0" encoding="UTF-8"?>
<?schematron-schema href="../main/schematron/knowledgeartifact.sch"?>
<?schematron-schema href="../main/schematron/documentationtemplates.sch"?>
<knowledgeDocument xmlns="urn:hl7-org:knowledgeartifact:r1" xmlns:vmr="urn:hl7-org:vmr:r2" xmlns:dt="urn:hl7-org:cdsdt:r2"
    xmlns:elm="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:a="urn:hl7-org:cql-annotations:r1" xmlns:p1="http://www.w3.org/1999/xhtml"
    xmlns:xml="http://www.w3.org/XML/1998/namespace" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:anf="urn:solor.io:anf:r1"
    xsi:schemaLocation="urn:hl7-org:knowledgeartifact:r1 ../../schema/knowledgeartifact/knowledgedocument.xsd urn:hl7-org:elm:r1 ../../schema/elm/clinicalexpression.xsd urn:hl7-org:elm-types:r1 ../../schema/elm/types.xsd 
    urn:hl7-org:cql-annotations:r1 ../../schema/elm/cqlannotations.xsd urn:solor.io:anf:r1 ../../schema/anf/anf.xsd">
    <metadata>
        <identifiers>
            <identifier root="urn:va.gov:kbs:knart:artifact:r1" extension="2c3ccce7-4e81-590e-b37c-7bdbeccbbe77" identifierName="B38" version="1.0"/>
            <identifier root="urn:va.gov:kbs:contract:VA118-16-D-1008:to:VA-118-16-F-1008-0007" extension="CLIN0005AK"
                identifierName="Contract: VA118-16-D-1008, Task Order (TO): VA-118-16-F-1008-0007, CLIN0005AK"/>
            <identifier root="urn:cognitivemedicine.com:lab:jira" extension="KP-879" identifierName="Jira KP-879"/>
        </identifiers>
        <artifactType value="Documentation Template"/>
        <schemaIdentifier root="urn:hl7-org:knowledgeartifact:r1" version="1"/>
        <dataModels>
            <modelReference>
                <description value="VA Analysis Normal Form Model"/>
                <referencedModel value="urn:solor.io:anf-model:0.8"/>
            </modelReference>
        </dataModels>
        

        <title value="Rheumatology: Rheumatoid Arthritis Documentation Template"/>

        <relatedResources>
            <relatedResource>
                <relationship value="DerivedFrom"/>
                <resources>
                    <resource>
                        <identifiers>
                            <identifier root="LocalDocBook" extension="sr1" identifierName="CCWP"/>
                        </identifiers>
                        <title value="Rheumatology: Rheumatoid Arthritis Clinical Content White Paper"/>
                        <description value="Clinical Content White Paper"/>
                    </resource>
                </resources>
            </relatedResource>

            <relatedResource>
                <relationship value="AssociatedResource"/>
                <resources>
                    <resource>
                        <identifiers>
                            <identifier root="LocalDocBook" identifierName="CSD" extension="sr2"/>
                            <identifier root="urn:va.gov:kbs:contract:VA118-16-D-1008:to:VA-118-16-F-1008-0007" extension="CLIN0005AF"
                                identifierName="Contract: VA118-16-D-1008, Task Order (TO): VA-118-16-F-1008-0007, CLIN0005AF"/>
                        </identifiers>
                        <title value="Rheumatology: Rheumatoid Arthritis Documentation Template Conceptual Structure Document"/>
                    </resource>
                </resources>
            </relatedResource>

            <relatedResource>
                <relationship value="AssociatedResource"/>
                <resources>
                    <resource>
                        <identifiers>
                            <identifier root="LocalDocBook" identifierName="KVRpt" extension="sr3"/>
                            <identifier root="urn:va.gov:kbs:contract:VA118-16-D-1008:to:VA-118-16-F-1008-0007" extension="CLIN0005AP"
                                identifierName="Contract: VA118-16-D-1008, Task Order (TO): VA-118-16-F-1008-0007, CLIN0005AP"/>
                        </identifiers>
                        <title value="Rheumatology: Rheumatoid Arthritis Documentation Template KNART Validation Report"/>

                    </resource>
                </resources>
            </relatedResource>
        </relatedResources>

        <supportingEvidence>
            <evidence>
                <resources>
                    <resource>
                        <identifiers>
                            <identifier root="https://doi.org" extension="doi:10.1002/art.27584" identifierName="DOI"/>
                            <identifier root="LocalDocBook" extension="e1" identifierName="Aletaha 2010"/>
                        </identifiers>
                        <title
                            value="2010 rheumatoid arthritis classification criteria: An american college of rheumatology/european league against rheumatism collaborative initiative"/>
                        <location value="https://doi.org/doi:10.1002/art.27584"/>
                        <description
                            value="OBJECTIVE: The 1987 American College of Rheumatology (ACR; formerly, the American Rheumatism Association) classification criteria for rheumatoid arthritis (RA) have been criticized for their lack of sensitivity in early disease. This work was undertaken to develop new classification criteria for RA. "/>
                        <citation
                            value="Aletaha, D., Neogi, T., Silman, A. J., Funovits, J., Felson, D. T., Bingham, C. O., et al. (2010). 2010 rheumatoid arthritis classification criteria: An american college of rheumatology/european league against rheumatism collaborative initiative. Arthritis and Rheumatism, 62(9), 2569-2581. doi:10.1002/art.27584 [doi]"
                        />
                    </resource>
                </resources>
            </evidence>
            <evidence>
                <resources>
                    <resource>
                        <identifiers>
                            <identifier root="https://doi.org" extension="doi:10.1002/art.39480" identifierName="DOI"/>
                            <identifier root="LocalDocBook" extension="e2" identifierName="Singh 2015"/>
                        </identifiers>
                        <title value="2015 american college of rheumatology guideline for the treatment of rheumatoid arthritis"/>
                        <location value="https://doi.org/doi:10.1002/art.39480"/>
                        <description
                            value="OBJECTIVE: To develop a new evidence-based, pharmacologic treatment guideline for rheumatoid arthritis (RA)."/>
                        <citation
                            value="Singh, J. A., Saag, K. G., Bridges, S. L., Akl, E. A., Bannuru, R. R., Sullivan, M. C., et al. (2016). 2015 american college of rheumatology guideline for the treatment of rheumatoid arthritis. Arthritis &amp; Rheumatology (Hoboken, N.J.), 68(1), 1-26. doi:10.1002/art.39480 [doi]"
                        />
                    </resource>
                </resources>
            </evidence>
        </supportingEvidence>

        <!-- The applicability element describes the basic context for this KNART -->
        <applicability>
            <coverage>
                <focus value="PatientAgeGroup"/>
                <description value="Population 18 years old or older"/>
                <value code="133936004" codeSystem="SNOMED CT"/>
            </coverage>
            <coverage>
                <focus value="ClinicalVenue"/>
                <description value="Primary Care"/>
            </coverage>
            <coverage>
                <focus value="ClinicalVenue"/>
                <description value="Outpatient"/>
                <value code="33022008" codeSystem="SNOMED CT"/>
            </coverage>
        </applicability>

        <status value="Active"/>

        <eventHistory>
            <artifactLifeCycleEvent>
                <eventType value="Published"/>
                <eventDateTime value="20180620"/>
                <!-- Fix SME names -->
            </artifactLifeCycleEvent>
            <artifactLifeCycleEvent>
                <eventType value="Published"/>
                <!-- Final publication revision -->
                <eventDateTime value="20180606"/>
            </artifactLifeCycleEvent>
            <artifactLifeCycleEvent>
                <eventType value="Published"/>
                <!-- Final publication, validation report updates -->
                <eventDateTime value="20180321"/>
            </artifactLifeCycleEvent>
            <artifactLifeCycleEvent>
                <eventType value="Published"/>
                <!-- Draft ready for final clinical review and submission, CLIN fixed -->
                <eventDateTime value="20180308"/>
            </artifactLifeCycleEvent>
            <artifactLifeCycleEvent>
                <eventType value="Created"/>
                <eventDateTime value="20171106"/>
            </artifactLifeCycleEvent>
            <artifactLifeCycleEvent>
                <eventType value="Pre-published"/>
                <eventDateTime value="20170824"/>
            </artifactLifeCycleEvent>
        </eventHistory>

        <!-- Capture contributors here -->
        <contributions>
            <contribution>
                <contributor xsi:type="Person">
                    <name>
                        <dt:part type="GIV" value="Amy M."/>
                        <dt:part type="FAM" value="Joseph"/>
                        <dt:part type="TITLE" value="MD"/>
                    </name>
                    <affiliation>
                        <name
                            value="Chief of Rheumatology, St Louis VA Medical Center (VAMC), 915 N. Grand, St. Louis, MO 63106
                            Professor of Medicine, Washington University School of Medicine"
                        />
                    </affiliation>
                </contributor>
                <role value="Author"/>
            </contribution>
            <contribution>
                <contributor xsi:type="Person">
                    <name>
                        <dt:part type="GIV" value="John S."/>
                        <dt:part type="FAM" value="Richards"/>
                        <dt:part type="TITLE" value="MD"/>
                    </name>
                    <affiliation>
                        <name
                            value="Chief of Rheumatology, Pittsburgh VAMC, University Drive C, Pittsburgh, PA 15240
                            Clinical Professor Medicine, University of Pittsburgh"
                        />
                    </affiliation>
                </contributor>
                <role value="Author"/>
            </contribution>
        </contributions>
        <publishers>
            <publisher xsi:type="Organization">
                <name value="Department of Veterans Affairs"/>
            </publisher>
        </publishers>
        <usageTerms>
            <rightsDeclaration>
                <assertedRights
                    value="Copyright 2018 B3 Group, Inc.
                    NOTICE OF GOVERNMENT COPYRIGHT LICENSE AND UNLIMITED RIGHTS LICENSE
                    Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); you may not use this file except in compliance with the License.
                    You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
                    Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
                    Portions of this content are derivative works from content produced by Cognitive Medical Systems, Inc. licensed under the Apache License, Version 2.0.
                    Additional portions of this content are derivative works from content contributed by Motive Medical Intelligence Inc., under Creative Commons Attribution-ShareAlike 4.0.
                    Contributions from 2013-2018 were performed either by US Government employees, or under US Veterans Health Administration contracts.
                    US Veterans Health Administration contributions by government employees are work of the U.S. Government and are not subject to copyright protection in the United States. Portions contributed by government employees are USGovWork (17USC §105). Not subject to copyright.
                    See: https://www.usa.gov/government-works
                    Contribution by contractors to the US Veterans Health Administration during this period are contractually contributed under the Apache License, Version 2.0 and US Government sponsorship is acknowledged under Contract VA118-16-D-1008, Task Order VA11817F10080007."/>
                <rightsHolder xsi:type="Organization">
                    <name value="B3 Group, Inc."/>
                </rightsHolder>
            </rightsDeclaration>
            <rightsDeclaration>
                <assertedRights
                    value="Copyright 2018 Cognitive Medical Systems, Inc.
                    Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); you may not use this file except in compliance with the License.
                    You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
                    Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
                    This and related content produced by Cognitive Medical Systems, Inc. licensed under the Apache License, Version 2.0 is available at: https://bitbucket.org/cogmedsys/hl7-kas-examples
                    Additional portions of this content are derivative works from content contributed by Motive Medical Intelligence Inc., under Creative Commons Attribution-ShareAlike 4.0. https://bitbucket.org/cogmedsys/kas-source-material
                    Contributions from 2013-2018 were performed either by US Government employees, or under US Veterans Health Administration contracts.
                    US Veterans Health Administration contributions by government employees are work of the U.S. Government and are not subject to copyright protection in the United States. Portions contributed by government employees are USGovWork (17USC §105). Not subject to copyright. See: https://www.usa.gov/government-works
                    Contribution by contractors to the US Veterans Health Administration during this period are contractually contributed under the Apache License, Version 2.0 and US Government sponsorship is acknowledged under Contract VA118-16-D-1008-0007."/>
                <rightsHolder xsi:type="Organization">
                    <addresses>
                        <address>
                            <dt:part type="AL" value="9444 Waples Street"/>
                            <dt:part type="ADL" value="Suite 300"/>
                            <dt:part type="CTY" value="San Diego"/>
                            <dt:part type="STA" value="CA"/>
                            <dt:part type="ZIP" value="92121"/>
                        </address>
                    </addresses>
                    <name value="Cognitive Medical Systems, Inc."/>
                </rightsHolder>
            </rightsDeclaration>
        </usageTerms>
    </metadata>

    <externalData>
        <codesystem name="SNOMED CT" id="2.16.840.1.113883.6.96" version="United States Edition 20180301"/>
        <codesystem name="RXNorm" id="2.16.840.1.113883.6.88" version="5-Mar-18"/>
        <codesystem name="LOINC" id="2.16.840.1.113883.6.1" version="2.61"/>
        <def name="cReactiveProteinLab">
            <elm:expression xsi:type="elm:Retrieve" dataType="anf:MeasurementOfLaboratoryTestAction" codeProperty="topicFocus" dateProperty="dateTime">
                <elm:annotation >
                    <a:s>C-reactive protein</a:s>
                </elm:annotation>
                <elm:codes xsi:type="elm:List">
                    <elm:element xsi:type="elm:Code" code="55235003" display="C-reactive protein">
                        <elm:system name="SNOMED CT"/>
                    </elm:element>
                </elm:codes>
                <elm:dateRange xsi:type="elm:Interval">
                    <elm:low xsi:type="elm:Add">
                        <elm:operand xsi:type="elm:Today"/>
                        <elm:operand xsi:type="elm:Quantity" unit="Month" value="-3"/>
                    </elm:low>
                    <elm:high xsi:type="elm:Today"/>
                </elm:dateRange>
            </elm:expression>
        </def>
        <def name="erythrocyteSedimentationRateLab">
            <elm:expression xsi:type="elm:Retrieve" dataType="anf:MeasurementOfLaboratoryTestAction" codeProperty="topicFocus" dateProperty="dateTime">
                <elm:annotation >
                    <a:s>Erythrocyte sedimentation rate</a:s>
                </elm:annotation>
                <elm:codes xsi:type="elm:List">
                    <elm:element xsi:type="elm:Code" code="416838001" display="Erythrocyte sedimentation rate">
                        <elm:system name="SNOMED CT"/>
                    </elm:element>
                </elm:codes>
                <elm:dateRange xsi:type="elm:Interval">
                    <elm:low xsi:type="elm:Add">
                        <elm:operand xsi:type="elm:Today"/>
                        <elm:operand xsi:type="elm:Quantity" unit="Month" value="-3"/>
                    </elm:low>
                    <elm:high xsi:type="elm:Today"/>
                </elm:dateRange>
            </elm:expression>
        </def>
        <def name="hepatitisCAntibodyScreenLab">
            <elm:expression xsi:type="elm:Retrieve" dataType="anf:MeasurementOfLaboratoryTestAction" codeProperty="topicFocus" dateProperty="dateTime">
                <elm:annotation >
                    <a:s>Hepatitis C antibody screen</a:s>
                </elm:annotation>
                <elm:codes xsi:type="elm:List">
                    <elm:element xsi:type="elm:Code" code="413107006" display="Hepatitis C antibody screen">
                        <elm:system name="SNOMED CT"/>
                    </elm:element>
                </elm:codes>
                <elm:dateRange xsi:type="elm:Interval">
                    <elm:low xsi:type="elm:Add">
                        <elm:operand xsi:type="elm:Today"/>
                        <elm:operand xsi:type="elm:Quantity" unit="Month" value="-3"/>
                    </elm:low>
                    <elm:high xsi:type="elm:Today"/>
                </elm:dateRange>
            </elm:expression>
        </def>
        <def name="completeBloodCountLab">
            <elm:expression xsi:type="elm:Retrieve" dataType="anf:MeasurementOfLaboratoryTestAction" codeProperty="topicFocus" dateProperty="dateTime">
                <elm:annotation >
                    <a:s>Complete blood count</a:s>
                </elm:annotation>
                <elm:codes xsi:type="elm:List">
                    <elm:element xsi:type="elm:Code" code="26604007" display="Complete blood count">
                        <elm:system name="SNOMED CT"/>
                    </elm:element>
                </elm:codes>
                <elm:dateRange xsi:type="elm:Interval">
                    <elm:low xsi:type="elm:Add">
                        <elm:operand xsi:type="elm:Today"/>
                        <elm:operand xsi:type="elm:Quantity" unit="Month" value="-3"/>
                    </elm:low>
                    <elm:high xsi:type="elm:Today"/>
                </elm:dateRange>
            </elm:expression>
        </def>
        <def name="completeMetabolicPanelLab">
            <elm:expression xsi:type="elm:Retrieve" dataType="anf:MeasurementOfLaboratoryTestAction" codeProperty="topicFocus" dateProperty="dateTime">
                <elm:annotation >
                    <a:s>Complete metabolic panel</a:s>
                </elm:annotation>
                <elm:codes xsi:type="elm:List">
                    <elm:element xsi:type="elm:Code" code="85acf077-d744-48bc-b57a-fa3b5ce12d97" display="Complete metabolic panel">
                        <elm:system name="SNOMED CT"/>
                    </elm:element>
                </elm:codes>
                <elm:dateRange xsi:type="elm:Interval">
                    <elm:low xsi:type="elm:Add">
                        <elm:operand xsi:type="elm:Today"/>
                        <elm:operand xsi:type="elm:Quantity" unit="Month" value="-3"/>
                    </elm:low>
                    <elm:high xsi:type="elm:Today"/>
                </elm:dateRange>
            </elm:expression>
        </def>
        <def name="rheumatoidFactorLab">
            <elm:expression xsi:type="elm:Retrieve" dataType="anf:MeasurementOfLaboratoryTestAction" codeProperty="topicFocus" dateProperty="dateTime">
                <elm:annotation >
                    <a:s>Rheumatoid factor</a:s>
                </elm:annotation>
                <elm:codes xsi:type="elm:List">
                    <elm:element xsi:type="elm:Code" code="54921001" display="Rheumatoid factor">
                        <elm:system name="SNOMED CT"/>
                    </elm:element>
                </elm:codes>
            </elm:expression>
        </def>
        <def name="antiCyclicCitrullinatedPeptideAntibodyLab">
            <elm:expression xsi:type="elm:Retrieve" dataType="anf:MeasurementOfLaboratoryTestAction" codeProperty="topicFocus" dateProperty="dateTime">
                <elm:annotation >
                    <a:s>Anti-cyclic citrullinated peptide antibody</a:s>
                </elm:annotation>
                <elm:codes xsi:type="elm:List">
                    <elm:element xsi:type="elm:Code" code="408200008" display="Anti-cyclic citrullinated peptide antibody">
                        <elm:system name="SNOMED CT"/>
                    </elm:element>
                </elm:codes>
            </elm:expression>
        </def>
        <def name="xRayHandsImaging">
            <elm:expression xsi:type="elm:Retrieve" dataType="anf:RadiographicImagingOfBodyStructureAction" codeProperty="topicFocus"
                dateProperty="dateTime">
                <elm:annotation >
                    <a:s>x-ray hands, bilateral, to evaluate for possible rheumatoid arthritis</a:s>
                </elm:annotation>
                <elm:codes xsi:type="elm:List">
                    <elm:element xsi:type="elm:Code" code="85562004" display="x-ray hands, bilateral">
                        <elm:system name="SNOMED CT"/>
                    </elm:element>
                </elm:codes>
                <elm:dateRange xsi:type="elm:Interval">
                    <elm:low xsi:type="elm:Add">
                        <elm:operand xsi:type="elm:Today"/>
                        <elm:operand xsi:type="elm:Quantity" unit="Month" value="-12"/>
                    </elm:low>
                    <elm:high xsi:type="elm:Today"/>
                </elm:dateRange>
            </elm:expression>
        </def>
        <def name="xRayHandsImagingInterpretation">
            <elm:expression xsi:type="elm:Retrieve" dataType="anf:InterpretationOfRecordArtifactAction" codeProperty="topicFocus"
                dateProperty="dateTime">
                <elm:codes xsi:type="elm:List">
                    <elm:element xsi:type="elm:Code" code="28582-5" display="XR Hand">
                        <elm:system name="LOINC"/>
                    </elm:element>
                </elm:codes>
                <elm:dateRange xsi:type="elm:Interval">
                    <elm:low xsi:type="elm:Add">
                        <elm:operand xsi:type="elm:Today"/>
                        <elm:operand xsi:type="elm:Quantity" unit="Month" value="-12"/>
                    </elm:low>
                    <elm:high xsi:type="elm:Today"/>
                </elm:dateRange>
            </elm:expression>
        </def>
    </externalData>
    <actionGroup>
        <subElements>
            <actionGroup>
                <behaviors>
                    <behavior xsi:type="RequiredBehavior" value="Must"/>
                </behaviors>
                <title value="History"/>
                <description value="Please ask the patient the following questions:"/>
                <subElements>
                    <simpleAction xsi:type="CollectInformationAction" order="1">
                        <textEquivalent value="Answer Yes or No to the prompt"/>
                        <documentationConcept>
                            <prompt value="Is the duration of joint pain greater than 6 weeks?"/>
                            <responseDataType value="Boolean"/>
                            <responseCardinality value="Single"/>
                        </documentationConcept>
                    </simpleAction>
                    <simpleAction xsi:type="CollectInformationAction" order="2">
                        <textEquivalent value="Answer Yes or No to the prompt"/>
                        <documentationConcept>
                            <prompt value="Are hands or wrists involved?"/>
                            <responseDataType value="Boolean"/>
                            <responseCardinality value="Single"/>
                        </documentationConcept>
                    </simpleAction>
                    <simpleAction xsi:type="CollectInformationAction" order="3">
                        <textEquivalent value="Answer Yes or No to the prompt"/>
                        <documentationConcept>
                            <prompt value="Is morning stiffness present?"/>
                            <responseDataType value="Boolean"/>
                            <responseCardinality value="Single"/>
                        </documentationConcept>
                    </simpleAction>
                    <simpleAction xsi:type="CollectInformationAction" order="5">
                        <textEquivalent value="Answer Yes or No to the prompt"/>
                        <documentationConcept>
                            <prompt value="Did the pain have a gradual onset?"/>
                            <responseDataType value="Boolean"/>
                            <responseCardinality value="Single"/>
                        </documentationConcept>

                    </simpleAction>
                    <simpleAction xsi:type="CollectInformationAction" order="5">
                        <behaviors>
                            <behavior xsi:type="RequiredBehavior" value="Could"/>
                        </behaviors>
                        <documentationConcept>
                            <prompt value="Optional additional information"/>
                            <responseDataType value="String"/>
                        </documentationConcept>
                    </simpleAction>
                </subElements>
            </actionGroup>
            <actionGroup>
                <title value="Physical Exam"/>
                <description value="Please answer the following questions and provide any required additional details."/>
                <subElements>
                    <actionGroup>
                        <behaviors>
                            <behavior xsi:type="RequiredBehavior" value="Must"/>
                        </behaviors>
                        <subElements>
                            <simpleAction xsi:type="CollectInformationAction" order="1">
                                <documentationConcept>
                                    <prompt value="Are there greater than four joints involved?"/>
                                    <responseDataType value="Boolean"/>
                                    <responseCardinality value="Single"/>
                                </documentationConcept>
                                <responseBinding property="greaterThan4Joints"/>
                            </simpleAction>
                            <simpleAction xsi:type="CollectInformationAction" order="2">
                                <conditions>
                                    <condition>
                                        <logic xsi:type="elm:IsTrue">
                                            <elm:operand xsi:type="elm:Property" path="greaterThan4Joints">
                                                <elm:source xsi:type="elm:ParameterRef" name="Responses"/>
                                            </elm:operand>
                                        </logic>
                                        <conditionRole/>
                                    </condition>
                                </conditions>
                                <documentationConcept>
                                    <prompt value="Specific Joints Affected"/>
                                    <responseDataType value="String"/>
                                    <responseCardinality value="Multiple"/>
                                    <responseRange xsi:type="EnumerationConstraint">
                                        <constraintType value="List"/>
                                        <item>
                                            <codes>
                                                <code code="202472008" codeSystem="SNOMED CT"/>
                                            </codes>
                                            <displayText value="Hand joint pain"/>
                                        </item>
                                        <item>
                                            <codes>
                                                <code code="202482009" codeSystem="SNOMED CT"/>
                                            </codes>
                                            <displayText value="Wrist joint pain"/>
                                        </item>
                                    </responseRange>
                                </documentationConcept>
                            </simpleAction>
                        </subElements>
                    </actionGroup>
                    <actionGroup>
                        <behaviors>
                            <behavior xsi:type="GroupSelectionBehavior" value="Any"/>
                        </behaviors>
                        <subElements>
                            <simpleAction xsi:type="CollectInformationAction" order="1">
                                <documentationConcept>
                                    <prompt value="Are there signs of joint inflammation (e.g., warmth, soft tissue swelling, or tenderness)?"/>
                                    <responseDataType value="Boolean"/>
                                    <responseCardinality value="Single"/>
                                </documentationConcept>
                                <responseBinding property="signsOfJointInflammation"/>
                            </simpleAction>
                            <simpleAction xsi:type="CollectInformationAction" order="2">
                                <conditions>
                                    <condition>
                                        <logic xsi:type="elm:IsTrue">
                                            <elm:operand xsi:type="elm:Property" path="signsOfJointInflammation">
                                                <elm:source xsi:type="elm:ParameterRef" name="Responses"/>
                                            </elm:operand>
                                        </logic>
                                        <conditionRole/>
                                    </condition>
                                </conditions>
                                <documentationConcept>
                                    <prompt value="Specific Joints Affected"/>
                                    <responseDataType value="String"/>
                                    <responseCardinality value="Multiple"/>
                                </documentationConcept>
                            </simpleAction>
                            <simpleAction xsi:type="CollectInformationAction">
                                <documentationConcept>
                                    <prompt value="Check all signs that are applicable."/>
                                    <responseDataType value="Code"/>
                                    <responseCardinality value="Multiple"/>
                                    <responseRange xsi:type="EnumerationConstraint">
                                        <constraintType value="List"/>
                                        <item>
                                            <codes>
                                                <code code="298256005" codeSystem="SNOMED CT"/>
                                            </codes>
                                            <displayText value="Warmth"/>
                                        </item>
                                        <item>
                                            <codes>
                                                <code code="271771009" codeSystem="SNOMED CT"/>
                                            </codes>
                                            <displayText value="Soft Tissue Swelling"/>
                                        </item>
                                        <item>
                                            <codes>
                                                <code code="110288007" codeSystem="SNOMED CT"/>
                                            </codes>
                                            <displayText value="Tenderness"/>
                                        </item>
                                    </responseRange>
                                </documentationConcept>
                            </simpleAction>
                        </subElements>
                    </actionGroup>
                </subElements>
            </actionGroup>
            <actionGroup>
                <title value="Medication History"/>
                <description value="Please answer the following questions and provide any required additional details."/>
                <subElements>
                    <actionGroup>
                        <behaviors>
                            <behavior xsi:type="GroupSelectionBehavior" value="Any"/>
                        </behaviors>
                        <subElements>
                            <simpleAction xsi:type="CollectInformationAction" order="1">
                                <documentationConcept>
                                    <prompt value="Current or prior use of disease-modifying anti-rheumatic drugs?"/>
                                    <responseDataType value="Boolean"/>
                                    <responseCardinality value="Single"/>
                                </documentationConcept>
                                <responseBinding property="currentOrPriorUseOfDMARD"/>
                            </simpleAction>
                            <actionGroup>
                                <behaviors>
                                    <behavior xsi:type="GroupSelectionBehavior" value="OneOrMore"/>
                                </behaviors>
                                <conditions>
                                    <condition>
                                        <logic xsi:type="elm:IsTrue">
                                            <elm:operand xsi:type="elm:Property" path="currentOrPriorUseOfDMARD">
                                                <elm:source xsi:type="elm:ParameterRef" name="Responses"/>
                                            </elm:operand>
                                        </logic>
                                        <conditionRole value="ApplicableScenario"/>
                                    </condition>
                                </conditions>
                                <subElements>
                                    <simpleAction xsi:type="CollectInformationAction" order="1">
                                        <documentationConcept>
                                            <prompt value="DMARDs"/>
                                            <responseDataType value="Code"/>
                                            <responseCardinality value="Multiple"/>
                                            <responseRange xsi:type="ValueSetConstraint">
                                                <constraintType value="List"/>
                                                <valueSet name="22cb432e-a4b2-4d4c-8444-ad79c5a0b9ca"/>
                                            </responseRange>
                                            <responseRange xsi:type="EnumerationConstraint">
                                                <constraintType value="List"/>
                                                <item>
                                                    <codes>
                                                        <code code="327361" codeSystem="RXNorm"/>
                                                    </codes>
                                                    <displayText value="adalimumab"/>
                                                </item>
                                                <item>
                                                    <codes>
                                                        <code code="214555" codeSystem="RXNorm"/>
                                                    </codes>
                                                    <displayText value="etanercept"/>
                                                </item>
                                                <item>
                                                    <codes>
                                                        <code code="5521" codeSystem="RXNorm"/>
                                                    </codes>
                                                    <displayText value="hydroxychloroquine"/>
                                                </item>
                                                <item>
                                                    <codes>
                                                        <code code="191831" codeSystem="RXNorm"/>
                                                    </codes>
                                                    <displayText value="infliximab"/>
                                                </item>
                                                <item>
                                                    <codes>
                                                        <code code="27169" codeSystem="RXNorm"/>
                                                    </codes>
                                                    <displayText value="leflunomide"/>
                                                </item>
                                                <item>
                                                    <codes>
                                                        <code code="6851" codeSystem="RXNorm"/>
                                                    </codes>
                                                    <displayText value="methotrexate"/>
                                                </item>
                                                <item>
                                                    <codes>
                                                        <code code="121191" codeSystem="RXNorm"/>
                                                    </codes>
                                                    <displayText value="rituximab"/>
                                                </item>
                                                <item>
                                                    <codes>
                                                        <code code="9524" codeSystem="RXNorm"/>
                                                    </codes>
                                                    <displayText value="sulfasalazine"/>
                                                </item>
                                                <item fillIn="true">
                                                    <displayText value="Other"/>
                                                    <additionalInstructions value="Please provide details of this medication"/>
                                                </item>
                                            </responseRange>
                                        </documentationConcept>
                                    </simpleAction>
                                </subElements>
                            </actionGroup>
                        </subElements>
                    </actionGroup>
                    <actionGroup>
                        <behaviors>
                            <behavior xsi:type="GroupSelectionBehavior" value="Any"/>
                        </behaviors>
                        <subElements>
                            <simpleAction xsi:type="CollectInformationAction" order="1">
                                <documentationConcept>
                                    <prompt value="Was there prior use of prednisone or other glucocorticoids?"/>
                                    <responseDataType value="Boolean"/>
                                    <responseCardinality value="Single"/>
                                </documentationConcept>
                                <responseBinding property="priorUseOfSteroids"/>
                            </simpleAction>
                            <actionGroup>
                                <behaviors>
                                    <behavior xsi:type="CardinalityBehavior" value="Multiple"/>
                                </behaviors>
                                <conditions>
                                    <condition>
                                        <logic xsi:type="elm:IsTrue">
                                            <elm:operand xsi:type="elm:Property" path="priorUseOfSteroids">
                                                <elm:source xsi:type="elm:ParameterRef" name="Responses"/>
                                            </elm:operand>
                                        </logic>
                                        <conditionRole value="ApplicableScenario"/>
                                    </condition>
                                </conditions>
                                <subElements>
                                    <simpleAction xsi:type="CollectInformationAction" order="1">
                                        <behaviors>
                                            <behavior xsi:type="RequiredBehavior" value="Must"/>
                                        </behaviors>
                                        <documentationConcept>
                                            <prompt value="Drug name"/>
                                            <responseDataType value="String"/>
                                        </documentationConcept>
                                    </simpleAction>
                                    <simpleAction xsi:type="CollectInformationAction" order="2">
                                        <documentationConcept>
                                            <prompt value="Date Initiated"/>
                                            <responseDataType value="Timestamp"/>
                                        </documentationConcept>
                                    </simpleAction>
                                </subElements>
                            </actionGroup>
                        </subElements>
                    </actionGroup>
                    <actionGroup>
                        <behaviors>
                            <behavior xsi:type="GroupSelectionBehavior" value="Any"/>
                        </behaviors>
                        <subElements>
                            <simpleAction xsi:type="CollectInformationAction">
                                <documentationConcept>
                                    <prompt value="If there are any other medication history details, please include them here"/>
                                    <responseDataType value="String"/>
                                </documentationConcept>
                            </simpleAction>
                        </subElements>
                    </actionGroup>
                </subElements>
            </actionGroup>
            <actionGroup>
                <title value="Laboratory Studies"/>
                <subElements>
                    <actionGroup>
                        <behaviors>
                            <behavior xsi:type="GroupSelectionBehavior" value="Any"/>
                        </behaviors>
                        <subElements>
                            <simpleAction xsi:type="CollectInformationAction">
                                <documentationConcept>
                                    <prompt value="Obtain Rheumatoid Factor Results and Date"/>
                                    <responseDataType value="Tuple"/>
                                    <responseCardinality value="Single"/>
                                </documentationConcept>
                                <initialValue xsi:type="elm:Last" orderBy="dateTime">
                                    <elm:source xsi:type="elm:ExpressionRef" name="rheumatoidFactorLab"> </elm:source>
                                </initialValue>
                            </simpleAction>
                            <simpleAction xsi:type="CollectInformationAction">
                                <documentationConcept>
                                    <prompt value="Obtain Anti-cyclic Citrullinated Peptide Antibody (ACPA/Anti-CCP) Result and date"/>
                                    <responseDataType value="Tuple"/>
                                    <responseCardinality value="Single"/>
                                </documentationConcept>
                                <initialValue xsi:type="elm:Last" orderBy="dateTime">
                                    <elm:source xsi:type="elm:ExpressionRef" name="antiCyclicCitrullinatedPeptideAntibodyLab"> </elm:source>
                                </initialValue>
                            </simpleAction>
                            <simpleAction xsi:type="CollectInformationAction">
                                <documentationConcept>
                                    <prompt value="Obtain Hepatitis C Antibody Screen Results and Date"/>
                                    <responseDataType value="Tuple"/>
                                    <responseCardinality value="Multiple"/>
                                </documentationConcept>
                                <initialValue xsi:type="elm:ExpressionRef" name="hepatitisCAntibodyScreenLab"/>
                            </simpleAction>
                            <simpleAction xsi:type="CollectInformationAction">
                                <documentationConcept>
                                    <prompt value="Obtain Complete Blood Count Results and Date"/>
                                    <responseDataType value="Tuple"/>
                                    <responseCardinality value="Single"/>
                                </documentationConcept>
                                <initialValue xsi:type="elm:Last" orderBy="dateTime">
                                    <elm:source xsi:type="elm:ExpressionRef" name="completeBloodCountLab"> </elm:source>
                                </initialValue>
                            </simpleAction>
                            <simpleAction xsi:type="CollectInformationAction">
                                <documentationConcept>
                                    <prompt value="Obtain Complete Metabolic Panel Results and Date"/>
                                    <responseDataType value="Tuple"/>
                                    <responseCardinality value="Single"/>
                                </documentationConcept>
                                <initialValue xsi:type="elm:Last" orderBy="dateTime">
                                    <elm:source xsi:type="elm:ExpressionRef" name="completeMetabolicPanelLab"> </elm:source>
                                </initialValue>
                            </simpleAction>
                            <simpleAction xsi:type="CollectInformationAction">
                                <documentationConcept>
                                    <prompt value="Obtain C-Reactive Protein Results and Date"/>
                                    <responseDataType value="Tuple"/>
                                    <responseCardinality value="Single"/>
                                </documentationConcept>
                                <initialValue xsi:type="elm:Last" orderBy="dateTime">
                                    <elm:source xsi:type="elm:ExpressionRef" name="cReactiveProteinLab"> </elm:source>
                                </initialValue>
                            </simpleAction>
                            <simpleAction xsi:type="CollectInformationAction">
                                <documentationConcept>
                                    <prompt value="Obtain Erythrocyte Sedimentation Rate Results and Date"/>
                                    <responseDataType value="Tuple"/>
                                    <responseCardinality value="Single"/>
                                </documentationConcept>
                                <initialValue xsi:type="elm:Last" orderBy="dateTime">
                                    <elm:source xsi:type="elm:ExpressionRef" name="erythrocyteSedimentationRateLab"> </elm:source>
                                </initialValue>
                            </simpleAction>
                            <simpleAction xsi:type="CollectInformationAction">
                                <documentationConcept>
                                    <prompt value="Obtain Other Test"/>
                                    <responseDataType value="String"/>
                                    <responseRange xsi:type="EnumerationConstraint">
                                        <constraintType value="List"/>
                                        <item fillIn="true">
                                            <displayText value="Other"/>
                                            <additionalInstructions value="Obtain Other Test Results Date"/>
                                        </item>
                                    </responseRange>
                                </documentationConcept>
                            </simpleAction>
                        </subElements>
                    </actionGroup>
                </subElements>
            </actionGroup>
            <actionGroup>
                <behaviors>
                    <behavior xsi:type="GroupSelectionBehavior" value="Any"/>
                </behaviors>
                <title value="Imaging and Diagnostic Studies"/>
                <subElements>
                    <simpleAction xsi:type="CollectInformationAction" order="1">
                        <supportingResources>
                            <resource>
                                <description value="Attach or link Hand Radiograph"/>
                            </resource>
                        </supportingResources>
                        <documentationConcept>
                            <prompt value="Obtain Hand Radiograph"/>
                            <responseDataType value="Tuple"/>
                            <responseCardinality value="Multiple"/>
                        </documentationConcept>
                        <initialValue xsi:type="elm:Last" orderBy="dateTime">
                            <elm:source xsi:type="elm:ExpressionRef" name="xRayHandsImaging"/>
                        </initialValue>
                    </simpleAction>
                    <simpleAction xsi:type="CollectInformationAction" order="1">
                        <supportingResources>
                            <resource>
                                <description value="Attach or link Hand Radiograph Interpretation"/>
                            </resource>
                        </supportingResources>
                        <documentationConcept>
                            <prompt value="Obtain Hand Radiograph Interpretation"/>
                            <responseDataType value="Tuple"/>
                            <responseCardinality value="Multiple"/>
                        </documentationConcept>
                        <initialValue xsi:type="elm:Last" orderBy="dateTime">
                            <elm:source xsi:type="elm:ExpressionRef" name="xRayHandsImagingInterpretation"/>
                        </initialValue>
                    </simpleAction>
                </subElements>
            </actionGroup>
        </subElements>
    </actionGroup>
</knowledgeDocument>
